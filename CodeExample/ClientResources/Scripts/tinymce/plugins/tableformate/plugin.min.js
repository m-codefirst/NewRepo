tinymce.PluginManager.add("tableformate", function (t, e) { function i(t) { if (void 0 !== t) for (var e = t.attributes, i = e.length; i--;)t.removeAttributeNode(e[i]) } t.addCommand("tableformate", function () { !function () { var e = t.$("table"); if (e.length >= 1) { e.each(function (t) { var e = $(this), i = e.find("thead"), n = e.find("tr:first"); if (0 === e.find("tr:has(th)").length) { var a = $("td", n).map(function (t, e) { return $("<th>").html(e.textContent).get(0) }), h = $("<tr></tr>").append(a); 0 === i.length && (i = $("<thead></thead>").prependTo(e)), h.clone(!0).appendTo(i), n.remove(); var o = e.find("tbody"); $("td:first-child", o).each(function () { $(this).replaceWith("<th>" + $(this).text() + "</th>") }) } }), t.$("table").each(function () { i(this), $("thead", this).each(function () { i(this) }), $("tbody", this).each(function () { i(this) }), $("tr", this).each(function () { i(this) }), $("th", this).each(function () { i(this) }), $("td", this).each(function () { i(this) }) }); var n = t.$("div").hasClass("vf-table-inform"); void 0 !== n && !1 !== n || (t.$()[0].innerHTML = "<div class='vf-table-inform'><div class='vf-table-inform__scroll-container'>" + t.$()[0].innerHTML + "</div></div>") } }() }), t.addButton("tableformate", { cmd: "tableformate", text: "Formate Table", valid_children: "+body[table]" }) });