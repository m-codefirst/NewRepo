@using Castle.Core.Internal
@using EPiServer.Find.Helpers
@using TRM.Web.Constants
@using TRM.Web.Models.Layouts

@model Hephaestus.CMS.ViewModels.IPageViewModel<TRM.Web.Models.Pages.ErrorPage, Hephaestus.CMS.ViewModels.ILayoutModel>
@{
    var myLayout = Model.Layout as TrmLayoutModel;
    if (myLayout == null)
    {
        throw new InvalidCastException(StringConstants.Layout.InvalidLayout);
    }
}
<div class="pageContainer">
    @if (!Model.CurrentPage.Heading.IsNullOrEmpty())
    {
        <div class="contentArea">
            <div class="row">
                <div class="col-xs-12 block containerBlock bg-slateblue pt-2x">
                    <div class="block-background">
                    </div>
                    <div class="block-container">
                        <div class="blockContent">
                            <div class="row">
                                <div class="col-xs-12 text-white block editorialBlock">
                                    <div class="blockContent">
                                        <h1 @Html.EditAttributes(m => m.CurrentPage.Heading)>
                                             @Html.DisplayFor(m => m.CurrentPage.Heading)
                                        </h1>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    }
    @if (!Model.CurrentPage.MainBody.IsNull() && !Model.CurrentPage.MainBody.IsEmpty)
    {
        <div class="container"@Html.EditAttributes(m=>m.CurrentPage.MainBody)>
            @Html.DisplayFor(m => m.CurrentPage.MainBody)
        </div>
    }
    @if (!Model.CurrentPage.ErrorPageContentArea.IsNull() && !Model.CurrentPage.ErrorPageContentArea.IsEmpty)
    {
        <div class="container" @Html.EditAttributes(m=>m.CurrentPage.ErrorPageContentArea)>
            @Html.DisplayFor(m => m.CurrentPage.ErrorPageContentArea)
        </div>
    }

</div>
@if (Model.Layout.HideSiteFooter)
{
    <div class="brand-footer">
        <footer class="container">
            <div class="row">
                <div class="footerBlock col-xs-12">
                    <div class="blockContent">
                        <hr>
                        <p><small>@Html.DisplayFor(m=>m.CurrentPage.FooterInformation)</small></p>
                    </div>
                </div>
            </div>
        </footer>
    </div>
}
